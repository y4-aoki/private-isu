
# 27.7s user time, 130ms system time, 51.29M rss, 57.32M vsz
# Current date: Tue Oct 22 13:12:44 2024
# Hostname: ip-172-31-15-216
# Files: /var/log/mysql/mysql-slow.log
# Overall: 705.82k total, 32 unique, 10.08k QPS, 2.96x concurrency _______
# Time range: 2024-10-22T04:10:29 to 2024-10-22T04:11:39
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           207s     1us   433ms   293us   176us     4ms    26us
# Lock time          209ms       0     8ms       0     1us    10us       0
# Rows sent        301.73k       0      22    0.44    0.99    1.39       0
# Rows examine      53.29M       0  97.79k   79.17    2.90   2.26k       0
# Query size        85.02M      10   1.26M  126.31   80.10   8.66k   31.70

# Profile
# Rank Query ID                            Response time  Calls  R/Call V/
# ==== =================================== ============== ====== ====== ==
#    1 0xBAF76CD0E8EDB382B8FC256715A20F19  145.6757 70.4%   1741 0.0837  0.00 SELECT posts users
#    2 0x396201721CD58410E070DA9421CA8C8D   15.5200  7.5% 126740 0.0001  0.00 SELECT users
#    3 0xCDEB1AFF2AE2BE51B2ED5CF03D4E749F   12.8187  6.2%    364 0.0352  0.00 SELECT comments
#    4 0xDA556F9115773A1A99AA0165670CE848    9.8037  4.7% 235793 0.0000  0.00 ADMIN PREPARE
#    5 0x624863D30DAC59FA16849282195BE09F    5.9783  2.9%  48488 0.0001  0.00 SELECT comments
#    6 0x422390B42D4DD86C7539A5F45EB76A80    4.9921  2.4%  50989 0.0001  0.00 SELECT comments
#    7 0x19759A5557089FD5B718D440CBBB5C55    4.8357  2.3%   3018 0.0016  0.00 SELECT posts
# MISC 0xMISC                                7.3829  3.6% 238688 0.0000   0.0 <25 ITEMS>

# Query 1: 28.54 QPS, 2.39x concurrency, ID 0xBAF76CD0E8EDB382B8FC256715A20F19 at byte 79494196
# Scores: V/M = 0.00
# Time range: 2024-10-22T04:10:38 to 2024-10-22T04:11:39
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1741
# Exec time     70    146s    18ms   139ms    84ms   105ms    16ms    82ms
# Lock time      1     4ms       0   625us     2us     1us    19us     1us
# Rows sent     11  34.00k      20      20      20      20       0      20
# Rows examine  33  18.12M  10.54k  10.77k  10.66k  10.29k       0  10.29k
# Query size     0 389.34k     229     229     229     229       0     229
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  ################################################################
# 100ms  ###################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT posts.id as id, posts.user_id as user_id, posts.body as body, posts.mime as mime, posts.created_at 
	FROM posts 
	JOIN users ON posts.user_id = users.id 
	WHERE users.del_flg = 0 
	ORDER BY posts.created_at DESC 
	LIMIT 20\G

# Query 2: 2.08k QPS, 0.25x concurrency, ID 0x396201721CD58410E070DA9421CA8C8D at byte 166236809
# Scores: V/M = 0.00
# Time range: 2024-10-22T04:10:38 to 2024-10-22T04:11:39
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         17  126740
# Exec time      7     16s    16us    14ms   122us   424us   373us    42us
# Lock time     49   103ms       0     1ms       0     1us     7us     1us
# Rows sent     41 123.77k       1       1       1       1       0       1
# Rows examine   0 123.77k       1       1       1       1       0       1
# Query size     5   4.58M      36      39   37.89   36.69    0.17   36.69
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  #########
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `users` WHERE `id` = 24\G

# Query 3: 6.07 QPS, 0.21x concurrency, ID 0xCDEB1AFF2AE2BE51B2ED5CF03D4E749F at byte 38060100
# Scores: V/M = 0.00
# Time range: 2024-10-22T04:10:38 to 2024-10-22T04:11:38
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     364
# Exec time      6     13s    11ms    59ms    35ms    48ms     9ms    34ms
# Lock time      0   263us       0    10us       0     1us       0     1us
# Rows sent      0     364       1       1       1       1       0       1
# Rows examine  65  34.74M  97.66k  97.79k  97.72k  97.04k       0  97.04k
# Query size     0  22.00k      61      62   61.89   59.77       0   59.77
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  ################################################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS count FROM `comments` WHERE `user_id` = 471\G

# Query 4: 3.87k QPS, 0.16x concurrency, ID 0xDA556F9115773A1A99AA0165670CE848 at byte 223663633
# Scores: V/M = 0.00
# Time range: 2024-10-22T04:10:38 to 2024-10-22T04:11:39
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         33  235793
# Exec time      4     10s    10us     7ms    41us    80us   104us    26us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     7   6.75M      30      30      30      30       0      30
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ##
#   1ms  #
#  10ms
# 100ms
#    1s
#  10s+
administrator command: Prepare\G

# Query 5: 794.89 QPS, 0.10x concurrency, ID 0x624863D30DAC59FA16849282195BE09F at byte 170755975
# Scores: V/M = 0.00
# Time range: 2024-10-22T04:10:38 to 2024-10-22T04:11:39
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          6   48488
# Exec time      2      6s    26us    15ms   123us   384us   302us    60us
# Lock time     19    41ms       0   717us       0     1us     7us     1us
# Rows sent     16  48.99k       0       3    1.03    2.90    1.37       0
# Rows examine   0  48.99k       0       3    1.03    2.90    1.37       0
# Query size     4   3.82M      79      83   82.65   80.10    0.12   80.10
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###########
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `comments` WHERE `post_id` = 9845 ORDER BY `created_at` DESC LIMIT 3\G

# Query 6: 835.89 QPS, 0.08x concurrency, ID 0x422390B42D4DD86C7539A5F45EB76A80 at byte 9452254
# Scores: V/M = 0.00
# Time range: 2024-10-22T04:10:38 to 2024-10-22T04:11:39
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          7   50989
# Exec time      2      5s    28us     8ms    97us   273us   185us    57us
# Lock time     20    43ms       0   805us       0     1us     7us     1us
# Rows sent     16  49.79k       1       1       1       1       0       1
# Rows examine   0 184.73k       0      22    3.71   12.54    5.08       0
# Query size     3   3.19M      62      66   65.62   65.89    1.51   65.89
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ########
#   1ms  #
#  10ms
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS `count` FROM `comments` WHERE `post_id` = 2810\G

# Query 7: 49.48 QPS, 0.08x concurrency, ID 0x19759A5557089FD5B718D440CBBB5C55 at byte 166236081
# Scores: V/M = 0.00
# Time range: 2024-10-22T04:10:38 to 2024-10-22T04:11:39
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    3018
# Exec time      2      5s    63us    45ms     2ms     5ms     2ms   761us
# Lock time      1     3ms       0   139us     1us     1us     3us     1us
# Rows sent      0   2.95k       1       1       1       1       0       1
# Rows examine   0   2.95k       1       1       1       1       0       1
# Query size     0 114.92k      36      40   38.99   38.53    0.51   38.53
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ####
# 100us  ################################################################
#   1ms  ###########################################################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `posts` WHERE `id` = 2425\G
